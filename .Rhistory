scale_fill_viridis_d(option = "A") +
theme(text = element_text(family = "IBM Plex Mono"))
gender_bar_final
#| label: setup
#| echo: false
#| message: false
#| warning: false
library(tidyverse)
library(rstatix)
library(ggplot2)
library(dplyr)
library(forcats)
main_data <- read.csv("z_all_data.csv") |>
mutate(country = str_replace_all(country, "(Greater London)", "United Kingdom")) |>
mutate(country = str_replace_all(country, "(Stockholm county)", "Sweden")) |>
mutate(country = str_replace_all(country, "\\(United Kingdom\\)", "United Kingdom")) |>
add_count(country, name = "country_count") |>
mutate(country = if_else(country_count < 35, "other", country)) |>
# Remove the temporary count column if not needed
select(-country_count)
gender_data <- main_data |>
filter(gender != "N/A" & gender != "" & gender %in% c('group','male','female')) |>
mutate(gender = factor(gender)) |>
mutate(gender = fct_relevel(gender, 'group','male','female')) |>
group_by(year_at_roskilde, gender) |>
summarise(count = n(), .groups = 'drop') |>
group_by(year_at_roskilde) |>
mutate(percentage = count / sum(count) * 100)
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_minimal() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
legend.position = c(0.95, 0.95),
legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
legend.title = element_blank()
)
gender_fill_final <- gender_fill_v1 +
scale_fill_viridis_d(option = "E") +
theme(text = element_text(family = "IBM Plex Mono"))
ggsave(
filename = "gender_representation_roskilde.svg",
plot = gender_fill_final,
width = 8,  # Specify width in inches
height = 5, # Specify height in inches
units = "in" # Specify units
)
gender_fill_final
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artist Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
) +
theme_minimal()
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
theme(text = element_text(family = "IBM Plex Mono"))
gender_bar_final
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_fivethirtyeight() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
legend.position = c(0.95, 0.95),
legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
legend.title = element_blank()
text = element_text(family = "IBM Plex Mono"),
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_fivethirtyeight() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
legend.position = c(0.95, 0.95),
legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
legend.title = element_blank(),
text = element_text(family = "IBM Plex Mono"),
legend.title = element_text(size = 200),
legend.position = "none"
)
#| label: setup
#| echo: false
#| message: false
#| warning: false
#####
library(tidyverse)
library(rstatix)
library(ggplot2)
library(dplyr)
library(forcats)
library(ggthemes)
library(extrafont)
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_fivethirtyeight() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
legend.position = c(0.95, 0.95),
legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
legend.title = element_blank(),
text = element_text(family = "IBM Plex Mono"),
legend.title = element_text(size = 200),
legend.position = "none"
)
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_fivethirtyeight() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
legend.position = c(0.95, 0.95),
legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
text = element_text(family = "IBM Plex Mono"),
legend.title = element_text(size = 200),
legend.position = "none"
)
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_fivethirtyeight() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
legend.position = c(0.95, 0.95),
legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
text = element_text(family = "IBM Plex Mono"),
)
gender_fill_final <- gender_fill_v1 +
scale_fill_viridis_d(option = "E")
ggsave(
filename = "gender_representation_roskilde.svg",
plot = gender_fill_final,
width = 8,  # Specify width in inches
height = 5, # Specify height in inches
units = "in" # Specify units
)
gender_fill_final
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artist Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
)
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
+ theme_fivethirtyeight() +
theme(
text = element_text(family = "IBM Plex Mono"),
)
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artist Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
)
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
theme_fivethirtyeight() +
theme(
text = element_text(family = "IBM Plex Mono")
)
gender_bar_final
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artist Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
)
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
theme_fivethirtyeight() +
theme(
text = element_text(family = "IBM Plex Mono"),
legend.title = element_text(size = 50)
)
gender_bar_final
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artist Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
)
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
theme_fivethirtyeight() +
theme(
text = element_text(family = "IBM Plex Mono"),
legend.title = element_blank()
)
gender_bar_final
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artists at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
)
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
theme_fivethirtyeight() +
theme(
text = element_text(family = "IBM Plex Mono"),
legend.title = element_blank()
)
gender_bar_final
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artists at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
)
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
theme_fivethirtyeight() +
theme(
text = element_text(family = "IBM Plex Mono"),
plot.title = element_text(size = 20),
legend.title = element_blank()
)
gender_bar_final
gender_bar_final
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artists at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
)
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
theme_fivethirtyeight() +
theme(
text = element_text(family = "IBM Plex Mono"),
plot.title = element_text(size = 20),
legend.title = element_blank()
)
gender_bar_final
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artists at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
)
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
theme_fivethirtyeight() +
theme(
text = element_text(family = "IBM Plex Mono"),
plot.title = element_text(size = 10),
legend.title = element_blank()
)
gender_bar_final
gender_bar_v1 <- gender_data |>
filter(gender == "female") |>
ggplot(aes(x = year_at_roskilde, y = percentage)) +
geom_bar(stat = "identity") +
labs(
title = "Female Artists at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Female Artists"
)
gender_bar_final <- gender_bar_v1 +
geom_smooth(
aes(group = gender, color = gender),
method = "lm",
se = FALSE,
linetype = "dashed",
linewidth = 1) +
scale_fill_viridis_d(option = "A") +
theme_fivethirtyeight() +
theme(
text = element_text(family = "IBM Plex Mono"),
plot.title = element_text(size = 15),
legend.title = element_blank()
)
gender_bar_final
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_fivethirtyeight() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
legend.position = c(0.95, 0.95),
legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
text = element_text(family = "IBM Plex Mono"),
plot.title = element_text(size = 15)
)
gender_fill_final <- gender_fill_v1 +
scale_fill_viridis_d(option = "E")
ggsave(
filename = "gender_representation_roskilde.svg",
plot = gender_fill_final,
width = 8,  # Specify width in inches
height = 5, # Specify height in inches
units = "in" # Specify units
)
gender_fill_final
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_fivethirtyeight() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
legend.position = c(0.95, 0.95),
legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
text = element_text(family = "IBM Plex Mono"),
plot.title = element_text(size = 12)
)
gender_fill_final <- gender_fill_v1 +
scale_fill_viridis_d(option = "E")
ggsave(
filename = "gender_representation_roskilde.svg",
plot = gender_fill_final,
width = 8,  # Specify width in inches
height = 5, # Specify height in inches
units = "in" # Specify units
)
gender_fill_final
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_fivethirtyeight() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
legend.position = c(0.95, 0.95),
# legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
text = element_text(family = "IBM Plex Mono"),
plot.title = element_text(size = 12)
)
gender_fill_final <- gender_fill_v1 +
scale_fill_viridis_d(option = "E")
ggsave(
filename = "gender_representation_roskilde.svg",
plot = gender_fill_final,
width = 8,  # Specify width in inches
height = 5, # Specify height in inches
units = "in" # Specify units
)
gender_fill_final
gender_fill_v1 <- ggplot(gender_data, aes(x = year_at_roskilde, y = percentage, fill = gender)) +
geom_area(alpha = 1, position = 'stack') +
labs(
title = "Gender Representation at Roskilde Festival",
x = "Year at Roskilde",
y = "Percentage of Artists",
fill = "Gender"
) + theme_fivethirtyeight() +
theme(
axis.text.x = element_text(angle = 45, hjust = 1),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
# legend.position = c(0.95, 0.95),
# legend.justification = c("right", "top"),
legend.background = element_rect(fill = "white", color = NA),
text = element_text(family = "IBM Plex Mono"),
plot.title = element_text(size = 12)
)
gender_fill_final <- gender_fill_v1 +
scale_fill_viridis_d(option = "E")
ggsave(
filename = "gender_representation_roskilde.svg",
plot = gender_fill_final,
width = 8,  # Specify width in inches
height = 5, # Specify height in inches
units = "in" # Specify units
)
gender_fill_final
